# --- Linux
if [ "$(uname)" == "Linux" ]; then
  __profile=linux
  setterm --linewrap on
fi

# --- MacOS
if [ "$(uname)" == "Darwin" ]; then
  __profile=ionos
  export PATH="${PATH}:/opt/homebrew/bin"
fi

export TMUX_TMPDIR="/tmp/tmux-1000/"
mkdir -p "${TMUX_TMPDIR}"

# --- Tmux
if command -v tmux &>/dev/null && [ -n "$PS1" ] && [[ ! "$TERM" =~ screen ]] && [[ ! "$TERM" =~ tmux ]] && [ -z "$TMUX" ]; then
  exec tmux
fi

tmux source ~/.tmux.conf

export EDITOR=nvim
export GOPATH="${HOME}/go"
export GOBIN="${GOPATH}/bin"
export PATH="${GOBIN}:${PATH}"

. <(vib render profile "${__profile}")

. "$HOME/.cargo/env"
